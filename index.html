<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Captura de Servicios</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f4; }
    label, input, select, textarea, button { display: block; margin: 10px 0; width: 100%; max-width: 400px; }
    button { padding: 10px; font-weight: bold; }
    .watermark { font-size: 0.8em; color: #888; margin-top: 30px; }
  </style>
</head>
<body>
  <h2>📋 Captura de Servicios</h2>

  <label>Telefonista</label>
  <input type="text" id="telefonista">

  <label>Domicilio</label>
  <input type="text" id="domicilio">

  <label>Destino</label>
  <input type="text" id="destino">

  <label>Asignado a</label>
  <input type="text" id="asignado">

  <label>Tipo</label>
  <select id="tipo">
    <option value="Traslado">Traslado</option>
    <option value="Consulta">Consulta</option>
    <option value="Otro">Otro</option>
  </select>

  <label>Observación</label>
  <textarea id="observacion"></textarea>

  <button onclick="guardarServicio()">Guardar</button>
  <button onclick="finalizarTurno()">Finalizar turno</button>
  <button onclick="copiarTelegram()">Enviar (Telegram)</button>

  <div class="watermark">Solución institucional creada por Jesús Sánchez C. con inteligencia asistida por Copilot.</div>

  <script>
    const scriptURL =https://script.google.com/macros/s/AKfycbYzEM1sMkomA2gURrhekroLVw7Ge7qDp0RXjvPIQXWwijNRSNcdVogOty2xOVqPAxw5Xg/exec';

    function guardarServicio() {
      const data = {
        accion: 'guardar',
        telefonista: document.getElementById('telefonista').value,
        domicilio: document.getElementById('domicilio').value,
        destino: document.getElementById('destino').value,
        asignado: document.getElementById('asignado').value,
        tipo: document.getElementById('tipo').value,
        observacion: document.getElementById('observacion').value
      };
      fetch(scriptURL, {
        method: 'POST',
        body: JSON.stringify(data)
      }).then(() => alert('Servicio guardado'));
    }

    function finalizarTurno() {
      const data = {
        accion: 'finalizar',
        telefonista: document.getElementById('telefonista').value
      };
      fetch(scriptURL, {
        method: 'POST',
        body: JSON.stringify(data)
      }).then(() => alert('Turno finalizado'));
    }

    function copiarTelegram() {
      const texto = `🚑 Servicio\n👤 Telefonista: ${document.getElementById('telefonista').value}\n🏠 Domicilio: ${document.getElementById('domicilio').value}\n📍 Destino: ${document.getElementById('destino').value}\n🚗 Asignado: ${document.getElementById('asignado').value}\n🧾 Tipo: ${document.getElementById('tipo').value}\n📝 Obs: ${document.getElementById('observacion').value}`;
      navigator.clipboard.writeText(texto).then(() => alert('Texto copiado para Telegram'));
    }
  </script>
</body>
</html>
