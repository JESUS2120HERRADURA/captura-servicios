// Función que construye el mensaje con base en los datos
function construirMensajeTelegram(datos) {
  // Aquí defines el formato del mensaje
  return `📝 Registro de servicio\n👤 Nombre: ${datos.nombre}\n📅 Fecha: ${datos.fecha}\n🕒 Hora: ${datos.hora}\n📍 Ubicación: ${datos.ubicacion}\n🔧 Tipo de servicio: ${datos.tipoServicio}\n🆔 Folio: ${datos.folio}`;
}

// Evento del botón
document.getElementById("btnTelegram").addEventListener("click", async () => {
  // 1. Obtener los datos (puedes adaptar esta parte según tu flujo)
  const datos = {
    nombre: document.getElementById("nombre").value,
    fecha: document.getElementById("fecha").value,
    hora: document.getElementById("hora").value,
    ubicacion: document.getElementById("ubicacion").value,
    tipoServicio: document.getElementById("tipoServicio").value,
    folio: document.getElementById("folio").value
  };

  // 2. Construir el mensaje
  const mensajeTelegram = construirMensajeTelegram(datos);

  // 3. Copiar automáticamente al portapapeles
  try {
    await navigator.clipboard.writeText(mensajeTelegram);
    alert("📋 El mensaje ha sido copiado automáticamente. Puedes pegarlo en Telegram.");
  } catch (err) {
    console.warn("⚠️ Error al copiar:", err);
    alert("⚠️ No se pudo copiar el mensaje. Intenta hacerlo manualmente.");
  }
});
