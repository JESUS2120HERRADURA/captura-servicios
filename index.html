<script>
  function guardarServicio() {
    const folio = document.getElementById('folio').value;
    const fechaObj = new Date();
    const fecha = fechaObj.toLocaleDateString();
    const hora = fechaObj.toLocaleTimeString();
    const telefonista = document.getElementById('nombre').value.trim();
    const domicilio = document.getElementById('domicilio').value.trim();
    const destino = document.getElementById('destino').value.trim();
    const asignado = document.getElementById('asignado').value.trim();
    const tipo = document.getElementById('tipo').value.trim();
    const observaciones = document.getElementById('observaciones').value.trim();

    fetch('TU_URL_DEL_WEBAPP', {
      method: 'POST',
      body: JSON.stringify({
        tipo: "servicio",
        folio,
        fecha,
        hora,
        telefonista,
        domicilio,
        destino,
        asignado,
        tipoServicio: tipo,
        observaciones,
        timestamp: new Date().toISOString()
      }),
      headers: { "Content-Type": "application/json" }
    }).then(() => {
      alert("Servicio registrado correctamente.");
    });
  }

  function checarEntrada() {
    const nombre = document.getElementById('nombre').value.trim();
    if (nombre === "") {
      alert("Por favor ingresa tu nombre.");
      return;
    }

    fetch('TU_URL_DEL_WEBAPP', {
      method: 'POST',
      body: JSON.stringify({
        tipo: "asistencia",
        nombre,
        entrada: new Date().toISOString()
      }),
      headers: { "Content-Type": "application/json" }
    });

    document.getElementById('login').style.display = "none";
    document.getElementById('formulario').style.display = "block";
    document.getElementById('folio').value = generarFolio();
    document.getElementById('timestamp').value = new Date().toISOString();
  }

  function generarFolio() {
    const ahora = new Date();
    return "F" + ahora.getTime();
  }
</script>
